#概念

# 是什么

**HD Wallet** 是一种通过一个**主密钥**（或种子）生成一棵密钥树的数字钱包。简化了管理多个账户和地址的过程。

- HD Wallet 生成的密钥是分层组织的，像一棵树。
- 每个节点（密钥）可以派生出子节点（子密钥），子节点又可以派生孙节点，以此类推。
- HD Wallet 是确定性的，也就是说，只要有相同的**种子（Seed）**，就能生成完全相同的密钥树。种子就是助记词。

> [!caution] m 只是一个逻辑上的根
> 就，它literally 就是m，表示从主密钥派生，所以不进储存


# derivation path
```
m / 44' / 60' / 0' / 0 / 0
```
`m`: 根（主密钥）
`44'`: 目的用途 （BIP-44 规范，表示加密货币钱包）
 60' ：由 **SLIP-44** 分配 ，这里表示ETH
 0'：账号的编号，在钱包里点击“添加账户” 其实就加了这个。
 **`change`**：是否为找零地址。常量 0 用于外部链，常量 1 用于内部链，内部链用于返回交易变更。
address_index：生成的第几个地址。建议不超过20.

m / purpose' / coin_type' / account' / change / address_index


注：
- 带有 `'`，即 Hardened Derivation，这意味着它的派生方式更安全，无法通过子密钥推导出父密钥。
- 在比特币等加密货币里，一个账户里有多个地址很常见，有助于隐藏你的资金来源和余额。
- 在Ethereum 中，`address_index` 一般都是 0，`change`总是0
- 在bitcoin 中，模型完全不同，地址不对应什么具体的链上的位置，输入输出需要不同的地址。

``` go
var DefaultBaseDerivationPath = DerivationPath{0x80000000 + 44, 0x80000000 + 60, 0x80000000 + 0, 0, 0}
```

如上，在account/hd.go 中，有这样的声明。

